build-x86_64-image:
  stage: build
  tags:
    - shell-x86
  script:
    - chmod +x ./build.sh; ./build.sh

build-ppc64le-image:
  stage: build
  tags:
    - shell-ppc
  script:
    - chmod +x ./build.sh; ./build.sh

build-multi-arch-image:
  stage: build
  tags:
    - shell-ppc
  script:
    - chmod +x ./create-multi-arch.sh; ./create-multi-arch.sh

test-multi-arch-image-on-x86_64:
  stage: test
  tags:
    - shell-x86
  script:
    - docker pull quay.io/snehakpersistent/multi-arch-travis:latest 
    - docker run --rm quay.io/snehakpersistent/multi-arch-travis:latest

test-multi-arch-image-on-ppc64le:
  stage: test
  tags:
    - shell-ppc
  script:
    - docker pull quay.io/snehakpersistent/multi-arch-travis:latest 
    - docker run --rm quay.io/snehakpersistent/multi-arch-travis:latest

